W.loadPlugin({name:"windy-plugin-examples",version:"0.5.0",author:"Windyty, S.E.",repository:{type:"git",url:"git+https://github.com/windycom/windy-plugins"},description:"Windy plugin system enables anyone, with basic knowledge of Javascript to enhance Windy with new functionality (default desc).",displayName:"Boat tracker",hook:"menu"},["map"],(function(n,t){var e=t.map,o=L.divIcon({html:'<svg  viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">\n            <path d="M4.784,13.635c0,0 -0.106,-2.924 0.006,-4.379c0.115,-1.502 0.318,-3.151 0.686,-4.632c0.163,-0.654 0.45,-1.623 0.755,-2.44c0.202,-0.54 0.407,-1.021 0.554,-1.352c0.038,-0.085 0.122,-0.139 0.215,-0.139c0.092,0 0.176,0.054 0.214,0.139c0.151,0.342 0.361,0.835 0.555,1.352c0.305,0.817 0.592,1.786 0.755,2.44c0.368,1.481 0.571,3.13 0.686,4.632c0.112,1.455 0.006,4.379 0.006,4.379l-4.432,0Z" style="fill:#002efc;"/><path d="M5.481,12.731c0,0 -0.073,-3.048 0.003,-4.22c0.06,-0.909 0.886,-3.522 1.293,-4.764c0.03,-0.098 0.121,-0.165 0.223,-0.165c0.103,0 0.193,0.067 0.224,0.164c0.406,1.243 1.232,3.856 1.292,4.765c0.076,1.172 0.003,4.22 0.003,4.22l-3.038,0Z" style="fill:#fff;fill-opacity:0.846008;"/>\n        </svg>',iconSize:[24,24],iconAnchor:[12,12]}),i=[],r=[],c=function(){for(var n=0,t=i;n<t.length;n++){var e=t[n];if(e._icon){e._icon.style.transformOrigin="12px 12px";var o=e._icon.getAttribute("data-heading");-1===e._icon.style.transform.indexOf("rotateZ")&&(e._icon.style.transform="".concat(e._icon.style.transform," rotateZ(").concat(o||0,"deg)"))}}},a=!1;n.ondestroy=function(){a&&(i.forEach((function(n){return e.removeLayer(n)})),r.forEach((function(n){return e.removeLayer(n)})),i=[],r=[],e.off("zoom",c),e.off("zoomend",c),e.off("viewreset",c),a=!1)},n.onopen=function(){a||(fetch("https://www.windy.com/img/windy-plugins/boats.json").then((function(n){return n.json()})).then((function(n){return n.result})).then((function(n){for(var t=0,a=function(){var a=l[s];t=(t+60)%360;var u=n[a],f=L.polyline(u.track,{color:"hsl(".concat(t,", 100%, 45%)"),weight:2}).addTo(e);f.on("mouseover",(function(){return f.setStyle({weight:4})})),f.on("mouseout",(function(){return f.setStyle({weight:2})}));var d=L.marker(u.track[u.track.length-1],{icon:o}).addTo(e);i.push(d),d._icon.setAttribute("data-heading",u.heading),d.bindPopup(a),r.push(f),c()},s=0,l=Object.keys(n);s<l.length;s++)a()})).catch(console.error),e.on("zoom",c),e.on("zoomend",c),e.on("viewreset",c),a=!0,e.setView([14,-29],4))}}));
